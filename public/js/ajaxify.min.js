/*
 * TwentySix ajaxify module.
 * Copyright 2014 OhByeongYun.
 *
 * last compiled: 2014-06-28.
 */
function loadjs(a){var b=document.createElement("script");b.setAttribute("type","text/javascript"),b.setAttribute("src",a),b.onload=function(){$("body").removeClass("loading"),window.setTimeout(function(){$("body").removeClass("blockscroll")},1e3)},"undefined"!=typeof b&&document.getElementsByTagName("head")[0].appendChild(b)}!function(a,b){var c=a.History,d=a.jQuery,e=a.document;return c.enabled?void d(function(){var f="#main",g=d(f).filter(":first"),h=(g.get(0),d(e.body)),i=c.getRootUrl();0===g.length&&(g=h),d.expr[":"].internal=function(a){var b,c=d(a),e=c.attr("href")||"";return b=e.substring(0,i.length)===i||-1===e.indexOf(":")};var j=function(a){var b=String(a).replace(/<\!DOCTYPE[^>]*>/i,"").replace(/<(html|head|body|title|meta|script)([\s\>])/gi,'<div class="document-$1"$2').replace(/<\/(html|head|body|title|meta|script)\>/gi,"</div>");return b};d.fn.ajaxify=function(){var a=d(this);return a.find("a:internal:not(.no-ajaxy)").click(function(a){var b=d(this),e=b.attr("href"),f=b.attr("title")||null;return 2==a.which||a.metaKey?!0:"_blank"==b.attr("target")||a.metaKey?!0:(c.pushState(null,f,e),a.preventDefault(),!1)}),a},h.ajaxify(),d(a).bind("statechange",function(){{var k=c.getState(),l=k.url;l.replace(i,"")}h.addClass("loading-in"),a.setTimeout(function(){d("html, body").scrollTop(0),h.addClass("loading"),h.addClass("blockscroll")},200),a.setTimeout(function(){d.ajax({url:l,success:function(c){var i,k,m=d(j(c)),n=m.find(".document-body:first"),o=n.find(f).filter(":first");if(k=n.find(".document-script"),k.context!=b?k.each(function(){var a=d(this).attr("src");console.log(a),"undefined"!=typeof a&&loadjs(d(this).attr("src"))}):(d("body").removeClass("loading"),a.setTimeout(function(){d("body").removeClass("blockscroll")},200)),i=o.html()||m.html(),!i)return e.location.href=l,!1;g.append(i).ajaxify(),g.html(i).ajaxify(),e.title=m.find(".document-title:first").text();try{e.getElementsByTagName("title")[0].innerHTML=e.title.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(p){}h.removeClass("loading-in"),h.addClass("loading-out"),a.setTimeout(function(){h.removeClass("loading-out")},200)},error:function(a,b,c){console.log(c)}})},500)})}):!1}(window);